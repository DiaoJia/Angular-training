
<h1>Dynamic forms</h1>
<h2>Create user</h2>
<form [formGroup]="createUserFormGroup" (ngSubmit)="onSubmit()">
  <div class="form-group">
    <label for="fullName">Full name:</label>
    <input
      type="text"
      [(ngModel)]="createUserCommand.fullName"
      name="fullName"
      formControlName="fullName"
      class="form-control w-50"
      required
    />
    <span
      *ngIf="fullName.errors && (fullName.dirty || fullName.touched)"
      class="text-danger"
    >
      <div *ngIf="fullName.errors['required']">Full name is required</div>
    </span>
  </div>

  <div class="form-group">
    <label for="username">Username:</label>
    <input
      type="text"
      [(ngModel)]="createUserCommand.username"
      name="username"
      formControlName="username"
      class="form-control w-50"
      required
    />
    <div
      *ngIf="username.errors && (username.dirty || username.touched)"
      class="text-danger"
    >
      <div *ngIf="username.errors['required']">
        Username is required
      </div>
      <div *ngIf="username.errors['email']">Email format error</div>
      <div *ngIf="username.errors['emailExisted']">Email already existed</div>
    </div>
  </div>

  <div class="form-group">
    <label for="password">Password:</label>
    <input
      type="password"
      [(ngModel)]="createUserCommand.password"
      name="password"
      formControlName="password"
      class="form-control w-50"
      required
    />
    <div
      *ngIf="password.errors && (password.dirty || password.touched)"
      class="text-danger"
    >
      <div *ngIf="password.errors['required']">Password is required</div>
      <div *ngIf="password.errors['validationError']">
        Password must be at 8 characters, at least one lowercase character,one
        uppercase character, one number and one special character.
      </div>
    </div>
  </div>

  <div class="form-group">
    <label for="confirmPassword">Confirm password:</label>
    <input
      type="password"
      [(ngModel)]="createUserCommand.confirmPassword"
      name="confirmPassword"
      formControlName="confirmPassword"
      class="form-control w-50"
      required
    />
    <div
      *ngIf="
        confirmPassword.errors &&
        (confirmPassword.dirty || confirmPassword.touched)
      "
      class="text-danger"
    >
      <div *ngIf="confirmPassword.errors['matchPassword']">
        Password not match
      </div>
    </div>
  </div>
  <input
    type="submit"
    value="Register"
    [disabled]="!createUserFormGroup.valid"
    class="btn btn-primary"
  />
</form>
